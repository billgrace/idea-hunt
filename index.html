<!DOCTYPE html>
<html>
<head>
	<title>Idea Hunt 0.8</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<style type="text/css">
		body {
			margin: 0px;
			background-color: #fff;
			overflow: hidden;
		}
	</style>
</head>
<body>
	<script type="text/javascript" src="three.min.js"></script>
	<script type="text/javascript" src="stats.min.js"></script>
	<script type="text/javascript" src="OrbitControls.js"></script>
	<script type="text/javascript" src="cannon.min.js"></script>
	<script type="text/javascript" src="CannonDebugRenderer.js"></script>
	<script type="text/javascript">
		// global variables
		// - - Development
		var debuggingModeIsOn = true;
		var devMsg;
		var pitchX = 0.0, pitchY = 0.0, pitchZ = 0.0;
		// - - Cameras, scenes, lights, renderer
		var scene, renderer, camera, light;
		var cameraLaunchPosition = new THREE.Vector3();
		var cameraLaunchOrientation = new THREE.Quaternion();
		// - - Physics
		var caWorld;
		var cannonDebugThreeJsOutliner;
		// - - Players
		// var selfGeometry, selfMaterial, selfMesh, selfBody, selfMeshHomePosition;
		var selfMeshPosition, selfMeshOrientation;
		var selfHeadMesh, selfHairMesh, selfHatMesh, selfShirtMesh;
		var selfHeadGeometry, selfHairGeometry, selfHatGeometry, selfShirtGeometry;
		var selfHeadMaterial, selfHairMaterial, selfHatMaterial, selfShirtMaterial;
		var selfHeadOffset, selfHairOffset, selfHatOffset, selfShirtOffset;
		var selfBody, selfMeshHomePosition;
		var selfMaterialArray = [];
		var playerGallery;
		var playerToEditIndex, newPlayerBeingCreated;
		// - - Global screen geometry
		var windowWidth, windowHeight;
		// - - Opening screen
		var initialLoadingSemaphore;
		// - - ChoosePlayer screen
		var choosePlayerScreenDiv;
		var choosePlayerCreateNewButton, choosePlayerMakeChangesButton, choosePlayerPlayWithButton;
		// - - EditPlayer screen
		var editPlayerScreenDiv;
		var editPlayerCancelButton, editPlayerSaveButton;
		// - - BrowseTopics screen
		// - - Launch screen
		var viewWindowWidth, viewWindowHeight, viewWindowLeft, viewWindowTop, viewWindowBottom, viewWindowRight;
		var navWindowWidth, navWindowHeight, navWindowLeft, navWindowTop, navWindowBottom, navWindowRight;
		var selfWindowWidth, selfWindowHeight, selfWindowLeft, selfWindowTop, selfWindowBottom, selfWindowRight;
		// var viewWindowOrbitElement, navWindowOrbitElement, selfWindowOrbitElement;
		var orbitElement;
		var coreWindowContainer, coreWindowWidth, coreWindowHeight, coreWindowLeft, coreWindowTop, coreWindowBottom, coreWindowRight;
		var optHWindowContainer, optHWindowWidth, optHWindowHeight, optHWindowLeft, optHWindowTop, optHWindowBottom, optHWindowRight;
		var optVWindowContainer, optVWindowWidth, optVWindowHeight, optVWindowLeft, optVWindowTop, optVWindowBottom, optVWindowRight;
		var topicHorizonGeometry, topicHorizontMaterial, topicHorizonMesh, topicHorizonTexture;
		var topicHorizonMaterialArray = [];
		var launchPlatformMesh;
		var launcherMesh, launcherMeshHomePosition, launcherToSelfOffset;
		var flyerMesh, flyerBody, flyerMeshHomePosition;
		// var viewOrbitControls, navOrbitControls, selfOrbitControls;
		var orbitControls;
		var launchButton, launchButtonLabel;
		var bottomLaunchPowerSliderValue = 0, topLaunchPowerSliderValue = 30, startingLaunchPowerSliderValue = 0;
		var selfBodyLaunchSpeed;
		var selfBodyLaunchVelocity = new THREE.Vector3;
		var launchCameraFocusPoint, launchStartCameraSelfConvergenceAnimationCounter, launchStartCameraSelfConvergenceAnimationCount = 500;
		// - - Roaming screen
		var roamingBackButton, roamingPauseButton, roamingFasterButton, roamingSlowerButton, roamingLeftButton;
		var roamingRightButton, roamingShootButton, roamingGraspButton, roamingUpButton, roamingDownButton;
		var roamingMaxPitchChange = 0.003, roamingMaxYawChange = 0.003, roamingSpeedMultplier = 10.0;
		var roamingCurrentSpeedScalar, roamingVelocityVector = new THREE.Vector3( 0, 0, -1 );
		var roamingRaycaster;
		// - - Screen navigation
		var currentGameScreen, gameScreens = {
			initialLoadingScreen: "initialLoadingScreen",
			openingScreen: "openingScreen",
			choosePlayer: "choosePlayer",
			editPlayer: "editPlayer",
			savePlayerError: "savePlayerError",
			browseTopics: "browseTopics",
			launch: "launch",
			roaming: "roaming",
			ideaContact: "ideaContact",
			ideaInterior: "ideaInterior",
			myScore: "myScore",
			allScores: "allScores"
		};
	</script>
	<script type="text/javascript" src="cameras.js"></script>
	<script type="text/javascript" src="context.js"></script>
	<script type="text/javascript" src="controls.js"></script>
	<script type="text/javascript" src="motion.js"></script>
	<script type="text/javascript" src="players.js"></script>
	<script type="text/javascript" src="eventHandlers.js"></script>
	<script type="text/javascript">
		init();
		animate();
		function init() {
			initialLoadingSemaphore = 0;
			currentGameScreen = gameScreens.initialLoadingScreen;
			createWorld();
			initCamera();
			initEventHandlers();
			updateRenderingGeometry();
			render();
			// initEventHandlers();
		}
	</script>
</body>
</html>
